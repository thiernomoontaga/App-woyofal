#!/bin/bash

# Script spÃ©cifique pour dÃ©ployer sur Render avec votre image DockerHub
set -e

IMAGE_NAME="brahim1205/appwoyofal:latest"

echo "ğŸŒ Instructions de dÃ©ploiement sur Render pour AppWoyofal"
echo "=================================================="
echo ""
echo "1. ğŸ“‹ Connectez-vous Ã  https://render.com"
echo ""
echo "2. ğŸ†• CrÃ©ez un nouveau Web Service :"
echo "   - Cliquez sur 'New +' puis 'Web Service'"
echo "   - SÃ©lectionnez 'Deploy an existing image from a registry'"
echo ""
echo "3. ğŸ³ Configuration de l'image Docker :"
echo "   - Image URL: $IMAGE_NAME"
echo "   - Port: 80"
echo "   - Health Check Path: /api/health"
echo ""
echo "4. ğŸ—„ï¸ CrÃ©ez d'abord une base de donnÃ©es PostgreSQL :"
echo "   - Cliquez sur 'New +' puis 'PostgreSQL'"
echo "   - Nom: woyofal-postgres"
echo "   - Plan: Free (pour les tests)"
echo ""
echo "5. âš™ï¸ Variables d'environnement Ã  configurer :"
echo "   DB_HOST=<host-de-votre-postgres-render>"
echo "   DB_PORT=5432"
echo "   DB_NAME=<nom-de-votre-db>"
echo "   DB_USER=<user-de-votre-db>"
echo "   DB_PASSWORD=<password-de-votre-db>"
echo ""
echo "6. ğŸš€ DÃ©ployez le service"
echo ""
echo "ğŸ“ Note: Render vous fournira automatiquement les valeurs de connexion"
echo "    Ã  la base de donnÃ©es une fois celle-ci crÃ©Ã©e."
echo ""
echo "ğŸ”— Votre API sera accessible Ã  l'adresse :"
echo "   https://votre-service-name.onrender.com"
echo ""
echo "ğŸ§ª Tests de l'API :"
echo "   GET  https://votre-service-name.onrender.com/api/health"
echo "   POST https://votre-service-name.onrender.com/api/woyofal/acheter"
echo "   GET  https://votre-service-name.onrender.com/api/woyofal/verifier-compteur"
